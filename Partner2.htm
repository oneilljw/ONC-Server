<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <title>ONC Partner Page</title>
  <script src="//code.jquery.com/jquery-1.10.2.js"></script>
  <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script> 
  <link rel="stylesheet" type="text/css" href="oncdialogstylesheet.css">
  <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/smoothness/jquery-ui.css">
  <script> 
  	var errorColor = '#FF9999';
  	
  	$( document ).ready(function()
	{
  		//remove dashboard anchor, change partner anchor class to .breadcrumb-first
    	if(sessionStorage.getItem('homelinkVisibility') === 'hidden')
    	{
    		var dashboardli = document.getElementById('dashboard-anchor');
    		dashboardli.parentNode.removeChild(dashboardli);
    		
    		document.getElementById('partner-anchor').classList.add('breadcrumb-first');
    		document.getElementById('partner-anchor').classList.remove('breadcrumb-middle');
    	}
  		
  		//set the hidden values
  		var currYear = sessionStorage.getItem('curryear');
  		document.getElementById('year').value= currYear.toString();
  		document.getElementById('partnerid').value= sessionStorage.getItem("partnerid");
  		
  		//update the prior and current performance year labels and the notes
  		document.getElementById('pyPerf').innerHTML = (currYear-1).toString() + ' Partner Performance';
		document.getElementById('cyPerf').innerHTML = currYear.toString() + ' Partner Performance';
		document.getElementById('curr-season-legend').innerHTML = 'General Partner Information, ' + currYear + ' Season Notes & Gift Delivery Information';
		document.getElementById('curr-season-textarea').innerHTML = currYear + ' Season Notes';
		document.getElementById('del-info-label').innerHTML = currYear + ' Gift Delivery Information: ';
  		
  		if(sessionStorage.getItem("partnerid") !== "New")
  		{
  			partnerparams = "year=" + sessionStorage.getItem('curryear') + "&" +
				"partnerid=" + sessionStorage.getItem("partnerid") + "&" +
				"callback=?";

			$.getJSON('getpartner', partnerparams, function(partner)
			{
				//fill in partner info here
				document.getElementById('partid').value= partner.id;
				document.getElementById('partln').value= partner.lastName;
				document.getElementById('partfn').value= partner.firstName;
				document.getElementById('type').value= partner.type;
				document.getElementById('status').value= partner.status;
				document.getElementById('collection').value= partner.collection;
				document.getElementById('housenum').value= partner.houseNum;
				document.getElementById('street').value= partner.street;
				document.getElementById('unit').value= partner.unit;
				document.getElementById('city').value= partner.city;
				document.getElementById('zipcode').value= partner.zipCode;
				document.getElementById('phone').value= partner.homePhone;
				document.getElementById('firstcontactname').value= partner.contact;
				document.getElementById('firstcontactemail').value= partner.contact_email;
				document.getElementById('firstcontactphone').value= partner.contact_phone;
				document.getElementById('secondcontactname').value= partner.contact2;
				document.getElementById('secondcontactemail').value= partner.contact2_email;
				document.getElementById('secondcontactphone').value= partner.contact2_phone;
				document.getElementById('genTA').value= partner.other;
				document.getElementById('cyTA').value= partner.specialNotes;
				document.getElementById('delTA').value= partner.deliverTo;
				document.getElementById('pyReq').value= partner.pyRequested;
				document.getElementById('pyAss').value= partner.pyAssigned;
				document.getElementById('pyDel').value= partner.pyDelivered;
				document.getElementById('pyRec').value= partner.pyReceivedBeforeDeadline;
				document.getElementById('pyLate').value= partner.pyReceivedAfterDeadline;
				document.getElementById('cyReq').value= partner.orn_req;
				document.getElementById('cyAss').value= partner.orn_assigned;
				document.getElementById('cyDel').value= partner.orn_delivered;
				document.getElementById('cyRec').value= partner.orn_rec_before;
				document.getElementById('cyLate').value= partner.orn_rec_after;
				
			});
  		}
  		else
  		{
  			document.getElementById('partid').value= "New";
  		}
	});
  	
  	function verifyPhoneNumber(elementNum)
  	{
  		var phoneElement= [document.getElementById('phone'), 
  							document.getElementById('firstcontactphone'),
  							document.getElementById('secondcontactphone')];
  		
  		var numberGood = true;
  		var number= phoneElement[elementNum].value;
  		
  		if(number == '')
  			phoneElement[elementNum].style.backgroundColor = '#FFFFFF';
  		else if(number.length===12 && number.charAt(3)==='-' && number.charAt(7)==='-')
  			phoneElement[elementNum].style.backgroundColor = '#FFFFFF';
  		else if(number.length===12 && number.charAt(3)==='.' && number.charAt(7)==='.')
  			phoneElement[elementNum].style.backgroundColor = '#FFFFFF';
  		else if(number.length===10 && number.indexOf("-")===-1 && number.indexOf(".")===-1)
  			phoneElement[elementNum].style.backgroundColor = '#FFFFFF';
  		else
  		{
  			numberGood= false;
  			phoneElement[elementNum].style.backgroundColor = errorColor;
  		}
  		
  		return numberGood;
  	}
  	
  	 function onChangePW() 
     {
     	if(validate())
    	 	{
 			var params = {}	
 			params["field1"] = document.getElementById('currpw').value;
 			params["field2"] = document.getElementById('newpw').value;
     		$.post('reqchangepw', params, function(response)
     		{
     			document.getElementById('banner-message').textContent= response;
     			document.getElementById('welcome-div').style.display = "block";
     		});
     		
     		document.getElementById('currpw').value = "";
 	    	document.getElementById('newpw').value = "";
 	    	document.getElementById('verifypw').value = "";
     		window.location=document.getElementById('closepopup').href;
     	}
     }
  	 
  	function onProfileNotChanged()
    {
		var params = {}	
		$.post('profileunchanged', params, function(response)
		{
			document.getElementById('message').textContent= response.message;
		}, "jsonp");
		
		window.location=document.getElementById('closepopup').href;
    }

     function onCancel()
     {
 		window.location=document.getElementById('closepopup').href;
     }
 	
	function validate()
     {
 		var mssgEl = document.getElementById("pw_mssg");
     	var currpwEl = document.getElementById("currpw");
         var pass1El = document.getElementById("newpw");
         var pass2El = document.getElementById("verifypw");
         var ok = true;
         
         if(currpwEl.value == "")
         {
         	//alert("current password field empty");
             currpwEl.style.borderColor = "#E34234";
             
             mssgEl.style.color = "Red";
             mssgEl.textContent = "Current password not provided, please try again!";
             ok = false;
         }
         else if(pass1El.value == '' || pass2El.value == '')
 		{
 			//alert("Either New or Verify Passwords are empty");
     		pass1El.style.borderColor = "#E34234";
     		pass2El.style.borderColor = "#E34234";
     
     		mssgEl.style.color = "Red";
     		mssgEl.textContent = "Please fill out both New and Confirm, try again!";
     		ok = false;
 		}        
         else if(pass1El.value !== pass2El.value)
         {
             //alert("New and Verify Passwords do not match");
             pass1El.style.borderColor = "#E34234";
             pass2El.style.borderColor = "#E34234";
             
             mssgEl.style.color = "Red";
             mssgEl.textContent = "New and Verify passwords don't match, please try again!";
             ok = false;
         }

         return ok;
     }
  	
  	function onLogoutLink()
	{
		var params = {};
		post('logout', params);
	}
	
	function onSessionTimeout()
	{
		 window.location.assign('timeout');
	}
	
	function onSubmit()
	{
		document.getElementById("updatepartner").submit();
	}
	
	function post(path, params, method) 
	{
	    method = method || "post"; // Set method to post by default if not specified.

	    // The rest of this code assumes you are not using a library.
	    // It can be made less wordy if you use one.
	    var form = document.createElement("form");
	    form.setAttribute("method", method);
	    form.setAttribute("action", path);

	    for(var key in params) 
	    {
	    		if(params.hasOwnProperty(key))
	        {
	            var hiddenField = document.createElement("input");
	            hiddenField.setAttribute("type", "hidden");
	            hiddenField.setAttribute("name", key);
	            hiddenField.setAttribute("value", params[key]);

	        		form.appendChild(hiddenField);
	        }
	    }

	    document.body.appendChild(form);
	    form.submit();
	}
  </script>
  <style>
  	.header 
	{
		height: 70px;
		width: 90% ;
		margin: auto;
		background-color: #484e78;
	}
	.header-links
	{
		display: inline-block;
    	margin-top: 25px;   
	}
	#logo-img
	{
		vertical-align: middle;
    	margin-top: -8px;
    	margin-left: 5px;
    	margin-right: 10px;
    	max-height: 55px;
    	max-width: 75px;
	}
	.headerbuttons
	{
		display: inline-block;
		float: right;
		margin-top: 22px;
	}
	.dropbtn 
	{
  		color: white;
  		font-size: 16px;
  		background-color: Transparent;
  		background-repeat:no-repeat;
  		border: none;
  		cursor:pointer;
  		overflow: hidden;
  		outline:none;
	}
	.dropdown 
	{
  		position: relative;
  		display: inline-block;
	}
	.dropdown-content
	{
 		display: none;
  		position: absolute;
  		background-color: #f1f1f1;
  		min-width: 160px;
  		box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
 		 z-index: 1;
	}
	.dropdown-content a
	{
  		color: black;
  		padding: 12px 16px;
  		text-decoration: none;
  		display: block;
	}
	.dropdown-content a:hover {background-color: #bbb7ff;}
	.dropdown:hover .dropdown-content {display: block;}
	.dropdown:hover .dropbtn {background-color: #bbb7ff;}
	.floatleft { float:left; }
	.floatright { float:right; }	
	#logoutbtn
	{
		font-size: 16px;
  		background-color: Transparent;
  		background-repeat:no-repeat;
  		border: none;
  		cursor:pointer;
	}
	#logoutbtn:hover { background-color: #bbb7ff; }
	#welcome-div
	{
		width: 90%;
		height: 36px;
		line-height: 36px;
		margin-top: -8px;
		margin-right: auto;
		margin-left: auto;
		background-color: black;
		display: none;
	}
	#welcome-div p
	{
		color: white;
		font-size: 18px;
		font-style: italic;
		padding-left: 8px;
	}
	.breadcrumb-first, .breadcrumb-middle, .breadcrumb-current, .breadcrumb-only
	{
		color: white;
		font-size: 18px;
		text-decoration: none;
	}
	.breadcrumb-current, .breadcrumb-only { font-style: italic; }
	.breadcrumb-middle:before, .breadcrumb-current:before
	{
		color: white;
		content: ">\00a0";
		padding-left: 4px;
		padding-right: 4px;
	}
	.breadcrumb-first:hover, .breadcrumb-middle:hover { background-color: #bbb7ff; }
	form
	{
		width:90%;
		min-width: 900px;
		margin: 0 auto;
		border: none;
	}
	fieldset 
	{
		margin-top: 5px;
		background-color: #E8E8E8;
	}
	legend
	{
  		padding: 0.2em 0.5em;
  		border:1px solid black;
  		background-color: #FFFFFF;
  		font-size:100%;
  		text-align:left;
	}
	button 
	{
		background-color: #336699;
		color: #ffffff;
    	border-radius: 6px;
  		border: none;
  		padding: 4px 6px;
  		font-size: 14px;
	}	
	select 
	{
		display: ck;
		vertical-align: middle;
		width: auto;
		font-size: 12px;
		font-family: sans-serif;
		font-weight: 700;
		color: #444;
		line-height: 1.3;
		padding: .6em 1.4em .5em .8em;
		max-width: 100%;
		box-sizing: border-box;
		margin: 0;
		border: 1px solid #aaa;
		box-shadow: 0 1px 0 1px rgba(0,0,0,.04);
		border-radius: .5em;
		-moz-appearance: none;
		-webkit-appearance: none;
		appearance: none;
		background-color: #fff;		
		background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23007CB2%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E'),linear-gradient(to bottom, #ffffff 0%,#e5e5e5 100%);
		background-repeat: no-repeat, repeat;
		background-position: right .7em top 50%, 0 0;
		background-size: .65em auto, 100%;
	}
	select::-ms-expand { display: none; }
	select:hover { border-color: #888; }
	select-css:focus 
	{
		border-color: #aaa;
		box-shadow: 0 0 1px 3px rgba(59, 153, 252, .7);
		box-shadow: 0 0 0 3px -moz-mac-focusring;
		color: #222;
		outline: none;
	}
	select option { font-weight: normal; }
  	fieldset div
  	{
  		margin-top:6px;
  	}
  	form input
  	{
  		padding: 4px 0px;
 		box-sizing: border-box;
 		margin-right: 10px;
 		font-size: 14px;
	}
  	.partner-performance input
  	{
  		width: 32px;
  		text-align: center;
  		background-color: #e1e1e1;
  	}
  	#cyReq
  	{
  		background-color: #ffffff;
  	}
  	textarea 
  	{
  		width: 450px;
    	height: 120px;
    	line-height: 18px;
    	padding: 2px 2px;
    	box-sizing: border-box;
    	border: 1px solid #ccc;
    	border-radius: 4px;
    	background-color: #f8f8f8;
    	font-size: 14px;
    	resize: none;
    	display: block;
	}
	#partid
	{
		width: 64px;
		text-align: center;
		background-color: transparent;
	}
	#submitspan {float: right;}
	#errormessage
	{
		float: left;
		font-weight: bold;
		font-style: italic;
		color: red;
	}
  </style>
</head>
<body>
  <a href="#editProfile" id="editprofileanchor" style="visibility: hidden">Edit Profile</a>
  <a href="#timeoutdlg" id="timeoutanchor" style="visibility: hidden">Timeout</a> 
  <div class='header'>
    <img id='logo-img' src="onclogo">
    <span class='header-links'>
	  <a id='dashboard-anchor' class='breadcrumb-first' href='dashboard'>Dashboard</a>
      <a id='partner-anchor' class='breadcrumb-middle' href='partnertable'>Partners</a>
      <a class='breadcrumb-current' href='partnertable'>Edit Partner</a>
    </span>   
    <div class='headerbuttons'>
      <div class='dropdown'>
        <button class=dropbtn>Profile</button>
        <div class='dropdown-content'>
      	  <a href="#editProfile" onclick='showEditProfileDialog()'>Edit Profile</a>
      	  <a href="#chgpwdlg">Change Password</a>
      	</div> 
      </div>
      <button id='logoutbtn' onclick='onLogoutLink()'>Logout</button>
    </div>
  </div>
  <div id="welcome-div">
    <p id='banner-message'>BANNER_MESSAGE<p>
  </div>
  <form id="updatepartner" action="updatepartner" method="post">
	<input id='year' type="hidden" name="year">
	<input id='partnerid' type="hidden" name="partnerid">
	<fieldset>
	  <legend class="legend-major">Partner Information (Partners can be organizations or individuals)</legend>
  	  <div>
  	  	<label for='partid'>ID:</label>
  		<input id='partid' type='text' readonly>
    	<label for='partln'>Organization or Last Name:</label>
    	<input id='partln' title="Organization or Last Name" name="lastname" type="text" size="52" required>
    	<label for='partfn'>First Name (if individual):</label>
    	<input id='partfn' title="First Name" name="firstname" type="text" size="14">
      </div>
      <div class='fieldsetdiv'>
    	<label for='type'>Partner Type:</label>
		<select id="type" title="Partner Type" name="type">
      	  <option value="Business">Business</option>
	  	  <option value="Church">Church</option>
	  	  <option value="School">School</option>
	  	  <option value="Clothing">Clothing</option>
	  	  <option value="Coat">Coat</option>
	  	  <option value="ONC Shopper">ONC Shopper</option>
		</select>
		<label for='status'>Status:</label>
		<select id="status" title="status" name="status">
      	  <option value="No Action Yet">No Action Yet</option>
	  	  <option value="1st Email Sent">1st Email Sent</option>
	  	  <option value="Responded">Responded</option>
	  	  <option value="2nd Email Sent">2nd Email Sent</option>
	  	  <option value="Called, Left Mssg">Called, Left Mssg</option>
	  	  <option value="Confirmed">Confirmed</option>
	  	  <option value="Not Participating">Not Participating</option>
		</select>
		<label for='collection'>Collection Type:</label>
		<select id="collection" title="Type Of Collection" name="collection">
	  	  <option value="General">General</option>
	  	  <option value="Ornament">Ornament</option>
	  	  <option value="Meals">Meals</option>
	  	    <option value="Unknown">Unknown</option>
		</select>
	  </div>
	  <div class='fieldsetdiv'>
		<label for='housenum'>Address:</label>
		<input id="housenum" title="House #" name="housenum" type="text" size="8" placeholder="House #" autocomplete="off">
    	<input id="street" title="Street Name" name="street" type="text" size="36" placeholder="Street Name"  autocomplete="off">
    	<input id="unit" title="Apt. or Unit #" name="unit" type="text" size="8" placeholder="Unit #" autocomplete="off">
    	<input id="city" title="City" name="city" type="text" size='24' placeholder="City">	
    	<input id="zipcode" title="Zip Code" name="zipcode" type="text" size='10' placeholder="Zip Code">
    	<label for='phone'>Phone #:</label>
    	<input id="phone" title="Phone #" name="phone" type="text" size="12" placeholder="Phone #" onchange="verifyPhoneNumber(0)">
      </div>
    </fieldset>
    <fieldset>
  	  <legend class="legend-major">Partner Contact Information</legend>
  	  <div>
  		<label for='firstcontactname'>1st Contact Full Name:</label>
		<input id="firstcontactname" title="1st Contact Name" name="firstcontactname" type="text" size="20" autocomplete="off" required>
		<label for='firstcontactemail'>Email:</label>
		<input id='firstcontactemail' title="1st Contact Email address" name="firstcontactemail" type="email" size="30" required>
		<label for='firstcontactphone'>Phone:</label>
		<input id="firstcontactphone" title="1st Contact Phone #" name="firstcontactphone" type="text" size="18" onchange="verifyPhoneNumber(1)">
	  </div>
	  <div class='fieldsetdiv'>
		<label for='secondcontactname'>2nd Contact Full Name:</label>
		<input id="secondcontactname" title="2nd Contact Name" name="secondcontactname" type="text" size="20" autocomplete="off">
		<label for='secondcontactemail'>Email:</label>
		<input id='secondcontactemail' title="2nd Contact Email address" name="secondcontactemail" type="email" size="30">
		<label for='secondcontactphone'>Phone:</label>
		<input id="secondcontactphone" title="2nd Contact Phone #" name="secondcontactphone" type="text" size="18" onchange="verifyPhoneNumber(2)">
	  </div>
  	</fieldset>
  	<fieldset>
      <legend id='curr-season-legend' class="legend-major">General Partner Information, Current Year Notes And Gift Delivery Information</legend>
      <fieldset class='floatleft'> 
	  	<legend>General Partner Information</legend>
    	<textarea id='genTA' name='genTA' placeholder='Enter general partner info here'></textarea>
      </fieldset>
      <fieldset class='floatleft'>
      	<legend id='curr-season-textarea'>Current Season Notes</legend>
    	<textarea id='cyTA' name='cyTA' placeholder='Enter current year partner info here'></textarea>
	  </fieldset>
  	  <fieldset class='floatleft'>
  	 	<label id='del-info-label' for='delTA'>Gift Delivery Information:</label>
    	<input id='delTA' name='delTA' type='text' size='100' placeholder='Enter gift delivery info here'>
  	  </fieldset>
  	</fieldset>
	<fieldset>
  	  <legend class='legend-major'>Partner Performance: Hover cursor over field for definition. Gray fields are informational and are not editable.</legend>
  	  <fieldset class='partner-performance floatleft'> 
	    <legend id='pyPerf'></legend>
		<label for='pyReq'>Req:</label>
  		<input id="pyReq" title="# Of Ornaments Requested" type="text" readonly>
  		<label for='pyAss'>Assigned:</label>
  		<input id="pyAss" title="# Of Ornaments Assigned" type="text" readonly>
  		<label for='pyDel'>Del:</label>
  		<input id="pyDel" title="# Of Ornaments Given To Partner to Fulfill" type="text" readonly>
  		<label for='pyRec'>On-Time:</label>
  		<input id="pyRec" title="# Of Gifts Received By Deadline" type="text" readonly>
  		<label for='pyLate'>Late:</label>
  		<input id="pyLate" title="# Of Gifts Received After Deadline" type="text" readonly>
  	  </fieldset>
  	  <fieldset class='partner-performance floatright'> 
	    <legend id='cyPerf'></legend>
  		<label for='cyReq'>Req:</label>
  		<input id="cyReq" class='right-justify' name='cyReq' title="# Of Ornaments Requested" type="text">
  		<label for='cyAss'>Assigned:</label>
  		<input id="cyAss" title='# Of Ornaments Assigned' type="text" readonly>
  		<label for='cyDel'>Del:</label>
  		<input id="cyDel" title="# Of Ornaments Given To Partner to Fulfill" type="text" readonly>
  		<label for='cyRec'>On-Time:</label>
  		<input id="cyRec" title="# Of Gifts Received By Deadline" type="text" readonly>
  		<label for='cyLate'>Late:</label>
  		<input id="cyLate" title="# Of Gifts Received After Deadline" type="text" readonly>
  	  </fieldset>
    </fieldset>
  	<span id="errormessage"></span>
  	<span id="submitspan">
	  <label for="btnsubmit">Please check that all fields are complete prior to submission: </label>
 	  <button id="btnsubmit" type='button' title="Click to submit partner to ONC" onclick= onSubmit()>Submit</button>
	</span>
  </form>
<!-- Edit Profile Dialog -->
  <div id="editProfile" class="modalDialog">
	  <div class='innerextended'>
		<div class='dialogtopbar'>
		  <img class='logoimg' src="onclogo">
		  <span class='logospan'>Verify/Update ONC Profile</span>
	  </div>
	  <div class='greenbackground'>
	  <fieldset class="fieldset-auto-width">
  		<legend>Contact Information</legend>
  		<div class= 'profilediv'>
    	  		<label for="userfirstname">Name:</label>
    	  		<input id='userfirstname' type="text" size="16" placeholder="First Name" onchange='checkForProfileChange()'>
    	  		<input id='userlastname' type="text" size="16" placeholder="Last Name" onchange='checkForProfileChange()'>
    	  	</div>
    	  	<div class= 'profilediv'>
    	  		<label for="userorg" >Organization:</label>
    	  		<input id='userorg' type="text" size="28" placeholder="Organization" onchange='checkForProfileChange()'>
    	  	</div>
    	  	<div class= 'profilediv'>
    	  		<label for="usertitle" >Title:</label>
    	  		<input id='usertitle' type="text" size="33" placeholder="Title" onchange='checkForProfileChange()'>
    	  	</div>
    	  	<div class= 'profilediv'>
    	  		<label for="useremail" >Email:</label>
    	  		<input id='useremail' type="text" size="35" placeholder="Email address" onchange='checkForProfileChange()'>
    	  	</div>
    	  	<div class= 'profilediv'>
    	  		<label for="userphone" >Phone:</label>
    	  		<input id='userphone' type="text" size="22" placeholder="Work Phone #" onchange='checkForProfileChange()'>
    	  	</div>
    	  </fieldset>
    	  </div>
    	  <div id='buttonbar'>
    	    <button id="cancel" onclick="onProfileNotChanged()">No Change</button>
        <button id="update" value='unchanged' style="background-color:Grey" onclick="onUpdateProfile(this)" disabled>Update</button>
    	  </div> 
	</div>
  </div>
<!-- Change Password Dialog -->
  <div id="chgpwdlg" class="modalDialog">
	<div class='inner'>
		<a id='closepopup' href="#close" title="Close" class="close">X</a>
		<div class='dialogtopbar'>
		  <img class='logoimg' src="onclogo">
		  <span class='logospan'>Change Password</span>
		</div>
		<p id='pw_mssg'>Enter current and new password:</p>
    	<p><label class='lbl_pw' for="currpw">Current Password:</label>
    	<input class='inp_pw' type="password" id="currpw" name="field1" autofocus></p>
    	<p><label class='lbl_pw' for="newpw">New Password:</label>
    	<input class='inp_pw' type="password" id="newpw" name="field2"><br></p>
    	<p><label class='lbl_pw' for="verifypw" >Verify Password:</label>
    	<input class='inp_pw' type="password" id="verifypw" name="field3"></p>
    	<div id='buttonbar'>
      	  <button id="cancel" onclick="onCancel()">Cancel</button>
      	  <button id="submit" onclick="onChangePW()">Change Password</button>
    	</div> 
	</div>
  </div>  
<!-- Timeout Dialog -->
  <div id="timeoutdlg" class="modalDialog">
	<div class='inner'>
		<div class='dialogtopbar'>
		  <img class='logoimg' src="onclogo"/>
		  <span id='dialogmssg'>Session Timeout</span>
		</div>
		<p id='to_mssg'>Your session expired due to inactivity</p>
    	<div id='buttonbar'>
      	  <button id="timeoutsubmit" onclick="onSessionTimeout()">Logout</button>
    	</div> 
	</div>
  </div>  
</body>
</html> 